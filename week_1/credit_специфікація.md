# Credit Специфікація

Напишіть програму, яка буде запитувати у користувача номер кредитної картки 
та виводити за допомогою `printf`, чи справжня ця картка *American Express*, *MasterCard*
або *Visa* відповідно до номера та визначення форматів, наведених нище у деталях специфікації. 

Для автоматизації перевірки вашого коду, ми просимо, 
щоб останній рядок виводу вашої програми був `AMEX\n` або `MASTERCARD\n` або `VISA\n` або `INVALID\n`, і нічого більше. 
Для зручності вважатимемо, що коректні вхідні дані завжди будуть чисельними (тобто номер карти вводитиметься без дефісів). 

Також **Не** слід припускати, що користувацький ввід вміститься в тип даних int! 
Ми рекомендуємо використовувати функцію get_long із бібліотеки CS50 для отримання вводу користувача. (Як ви думаєте, чому?)

Ваша програма повинна поводитись, як вказано у прикладах, якщо номер картки справжній.

```
$ ./credit
Number: 4003600000000014
VISA
```

А тепер, `get_long` відкине самостійно дефіси та все інше:

```
$ ./credit
Number: 4003-6000-0000-0014
Number: foo
Number: 4003600000000014
VISA
```

Але ви маєте не пропустити вхідні дані, які не є частинами номера картки (номери телефонів, наприклад), навіть якщо це чисельні дані:

```
$ ./credit
Number: 6176292929
INVALID
```

## Деталі специфікації

Звісно, всі ви знаєте, що таке кредитна або дебетова картка – це такий шматок пластику, 
за допомогою якого можна сплачувати за товари й послуги. 
У цієї картки є номер, який надрукований на ній, 
а також вбудований (мабуть, з іншими даними) у магнітну стрічку із зворотного боку картки. 
Цей номер також зберігається у певній базі даних для того, 
щоб коли вашою карткою розраховуються за покупку, кредитор знав, з якого рахунку cписувати гроші. 

У світі багато людей з кредитними картками, і тому ці номери доволі великі: 
- *American Express* використовує номери із **15** розрядів, 
- *MasterCard* - з **16**, 
- *Visa* - з **13** або **16**. 

Ці розряди - десяткові (від 0 до 9), а не двійкові, що означає, що American Express, 
наприклад, може надрукувати 10^15 = 1,000,000,000,000,000 унікальних карток! (Тобто цілий квадриліон!)

Таке твердження, звісно, перебільшення, тому що номери кредитних карт мають певну структуру. 
- Номери карток *American Express*  починаються з 34 чи 37; 
- номери карт *MasterCard* починаються з 51, 52, 53, 54 чи 55 
    > (формально, вони можуть починатись і з деяких інших чисел, але ми не звертатимемо на це уваги в межах нашої задачі); 
- номери карт Visa починаються з 4. 

Також номери карт мають вбудовану у них контрольну суму, що обраховується за допомогою математичної формули. 
Ця формула дозволяє комп'ютерам (і людям, яким подобається математика) 
знаходити помилки у номерах карток (наприклад, у випадку підробок) без звернення до бази даних, адже це може бути повільно. 
Звичайно ж, нечесний математик може створити недійсний номер картки, що все одно підходить під математичне обмеження, 
тому запит до бази даних врешті-решт все одно необхідний для детальнішої перевірки.

### Алгоритм Луна

Тож яка це секретна формула? Більшість карток використовують алгоритм, створений Гансом Петером Луном з IBM. 
Відповідно до цього алгоритму, ви можете перевірити, чи номер кредитної картки є синтаксично коректним, ось так:

1. Помножте кожен другий розряд картки, починаючи із передостаннього, на 2. Додайте всі розряди отриманих добутків.
2. Додайте цю суму до суми всіх розрядів картки, що не були помножені на 2.
3. Якщо останній розряд отриманої суми 0 (або, більш формально, якщо сума націло ділиться на 10), номер кредитної картки є коректним!

Алгоритм виглядає непросто, тому давайте розглянемо на прикладі картки Visa, яка належить Девіду: 4003600000000014.

1. Давайте спочатку підкреслимо всі розряди, що будуть помножені на 2 (кожен другий, рахуючи з передостаннього):

    <ins>4</ins> 0 <ins>0</ins> 3 <ins>6</ins> 0 <ins>0</ins> 0 <ins>0</ins> 0 <ins>0</ins> 0 <ins>0</ins> 0 <ins>1</ins> 4

- Добре, давайте помножимо кожен виділений розряд на 2:

    1•2 + 0•2 + 0•2 + 0•2 + 0•2 + 6•2 + 0•2 + 4•2

    Це дасть нам:

    2 + 0 + 0 + 0 + 0 + 12 + 0 + 8
    
- Давайте тепер додамо розряди цих добутків (не самі добутки):

    2 + 0 + 0 + 0 + 0 + 1 + 2 + 0 + 8 = 13

2. Тепер давайте додамо цю суму (13) до суми розрядів, що не були помножені на 2, почавши з кінця:

    13 + 4 + 0 + 0 + 0 + 0 + 0 + 3 + 0 = 20

3. Так, останній розряд отриманої суми (20) - це 0, а, отже, номер карти Девіда справжній!

---
Посилання на курс: https://courses.prometheus.org.ua/courses/course-v1:Prometheus+CS50+2019_T1/course/
